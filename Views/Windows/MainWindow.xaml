<Window x:Class="SqlHelper.Views.Windows.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SqlHelper"
        xmlns:userControls="clr-namespace:SqlHelper.Views.UserControls"
        mc:Ignorable="d"
        Title="SQL Helper" Height="600" Width="1100"
        WindowStartupLocation="CenterScreen">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="10"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left side -->
        <Grid Grid.Column="0" Margin="10 10 0 10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0" Orientation="Vertical">
                <ComboBox
                    Margin="0 0 0 10"
                    ItemsSource="{Binding Databases}"
                    SelectedItem="{Binding SelectedDatabase, Mode=TwoWay}"
                    DisplayMemberPath="Name"/>

                <userControls:ClearableTextBox Placeholder="Filtrar tabelas..."/>
            </StackPanel>

            <DataGrid
                Grid.Row="1"
                Margin="0 10 0 0"
                AutoGenerateColumns="False"
                ItemsSource="{Binding Tables}"
                SelectedItem="{Binding SelectedTable}"
                HeadersVisibility="Column"
                CanUserResizeRows="False"
                SelectionMode="Single"
                IsReadOnly="True">

                <DataGrid.Columns>
                    <DataGridTextColumn
                        Header="Tabela"
                        Width="3*"
                        Binding="{Binding Name}"/>

                    <DataGridTextColumn
                        Header="Rows"
                        Width="*"
                        Binding="{Binding RowCount}"/>
                </DataGrid.Columns>

                <DataGrid.Resources>
                    <ContextMenu x:Key="RowMenu">
                        <MenuItem
                            Header="Mostrar dados"
                            Command="{Binding DataContext.ShowDataCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"/>

                        <MenuItem
                            Header="Gerar SELECT"
                            Command="{Binding DataContext.GenerateSelectCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"/>
                    </ContextMenu>
                </DataGrid.Resources>

                <DataGrid.RowStyle>
                    <Style TargetType="DataGridRow">
                        <Setter Property="ContextMenu" Value="{StaticResource RowMenu}"/>
                    </Style>
                </DataGrid.RowStyle>
            </DataGrid>
        </Grid>

        <GridSplitter 
            Grid.Column="1"
            Background="Transparent"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"/>

        <!-- Right side -->
        <TabControl
            Grid.Column="2"
            Margin="0 10 10 10"
            SelectedIndex="{Binding SelectedTabIndex, Mode=TwoWay}">

            <TabItem Header="Search">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="1" HorizontalAlignment="Center" Orientation="Horizontal">
                            <userControls:ClearableTextBox 
                                Width="200"
                                Margin="0 7 10 10"
                                Placeholder="Search..."/>

                            <RadioButton 
                                Content="Data"
                                VerticalAlignment="Center"
                                Margin="0 0 10 0"/>

                            <RadioButton 
                                Content="Metadata"
                                VerticalAlignment="Center"
                                Margin="0 0 10 0"/>
                        </StackPanel>
                    </Grid>

                    <DataGrid
                        Grid.Row="2"
                        AutoGenerateColumns="True"
                        ItemsSource="{Binding TableView}"
                        HeadersVisibility="Column"
                        CanUserResizeRows="False"
                        IsReadOnly="True"/>
                </Grid>
            </TabItem>

            <TabItem Header="Auto select">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <RadioButton
                            Grid.Column="0"
                            Content="Customer"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"/>

                        <RadioButton
                            Grid.Column="1"
                            Content="Product"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"/>

                        <RadioButton
                            Grid.Column="2"
                            Content="Accounts Receivable"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"/>

                        <RadioButton
                            Grid.Column="3"
                            Content="Accounts payable"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"/>

                        <RadioButton
                            Grid.Column="4"
                            Content="Purchasing"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"/>

                        <RadioButton
                            Grid.Column="5"
                            Content="Sales"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"/>
                    </Grid>

                    <userControls:CopyableCodeTextBox
                        Grid.Row="1"
                        TextBoxContent="{Binding CopyableTextBoxContent, Mode=TwoWay}"/>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
